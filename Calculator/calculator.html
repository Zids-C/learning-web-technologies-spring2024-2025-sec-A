<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
</head>
<body>
    <div id = 'calculator'></div>
    <script>
        const calculator = document.getElementById('calculator')

        calculator.style.width = '260px';
        calculator.style.margin = '100px';
        calculator.style.padding = '20px';
        calculator.style.border = '2px solid #333';
        calculator.style.borderRadius = '10px';
        calculator.style.backgroundColor = '#279695';
        calculator.style.boxShadow = '0 4px 10px rgba(0,0,0,0.1)';
        calculator.style.fontFamily = 'Arial,sans-serif';


        const display = document.createElement('input');
        display.type = 'text';
        display.id = 'display';
        display.disabled = 'true';
        display.style.width = '100%';
        display.style.height = '40px';
        display.style.marginBottom = '15px';
        display.style.fontSize = '20px';
        display.style.textAlign = 'right';
        display.style.border = '1px solid #ccc';
        display.style.borderRadius = '5px';
        display.style.paddingRight = '10px';
        display.style.backgroundColor = '#fff'
        calculator.appendChild(display);


        const b_con = document.createElement('div');
        b_con.style.display = 'grid';
        b_con.style.gridTemplateColumns = 'repeat(4,1fr)';
        b_con.style.gap = '10px';
        calculator.appendChild(b_con);

        const btns = ['7','8','9','+',
                    '4','5','6','-',
                    '1','2','3','*',
                    '0','%','/','=',
                    'CE','00','000','OFF'

        ]
        function handleClick(event)
        {
            const value = event.target.innerText;
            if(value == 'CE'){display.value = '';}
            else if (value == 'OFF'){
                window.close();
            }
            else if(value == '=')
            {
                try
                {
                    const exp = display.value.replace(/%/g,'/100');
                    display.value = eval(exp);
                }
                catch{display.value = 'Error';}
            }
            else{display.value += value;}
        }

        btns.forEach(char=>{
            const btn = document.createElement('btn');
            btn.innerText = char;
            btn.style.padding = '15px';
            btn.style.fontSize = '18px';
            btn.style.cursor = 'pointer';
            btn.style.borderRadius = '5px';
            btn.style.border = '1px solid #aaa';
            btn.style.backgroundColor = '#fff';
            btn.style.transition = '0.2s';
            
            btn.addEventListener('mouseover',()=>
            {
                btn.style.backgroundColor = '#ddd';
            });
            btn.addEventListener('mouseout',()=>
            {
                btn.style.backgroundColor = '#fff';
            });

            btn.addEventListener('click', handleClick);
            b_con.appendChild(btn);
        })






    </script>
</body>
</html>